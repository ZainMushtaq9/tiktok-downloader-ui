<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>TikTok Video Downloader â€“ Public Video Tool</title>

<meta name="description" content="Free TikTok video downloader to preview and download publicly available TikTok videos from single links or public profiles. No login required. Educational and offline reference use only.">

<meta name="robots" content="index, follow">

<style>
*{margin:0;padding:0;box-sizing:border-box}

:root{
--bg:#0b0f1a;
--card:rgba(255,255,255,0.04);
--border:#1e2440;
--text:#eaeaf0;
--muted:#9aa4c7;
--accent:#ff2d55;
--accent-hover:#ff4a6e;
}

body{
font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;
background:var(--bg);
color:var(--text);
line-height:1.6;
}

.main-container{
max-width:1000px;
margin:auto;
padding:40px 16px 60px;
}

.hero{text-align:center;margin-bottom:28px}
.hero h1{font-size:2rem;margin-bottom:8px}
.hero p{color:var(--muted);max-width:720px;margin:auto}

.card{
background:var(--card);
border:1px solid var(--border);
border-radius:16px;
padding:22px;
margin-bottom:26px;
}

input{
width:100%;
padding:14px;
border-radius:10px;
border:1px solid var(--border);
background:transparent;
color:inherit;
margin-bottom:14px;
outline:none;
}
input:focus{border-color:var(--accent)}

button{
background:var(--accent);
border:none;
color:#fff;
padding:12px 16px;
border-radius:10px;
cursor:pointer;
font-size:.95rem;
transition:.2s;
}
button:hover{background:var(--accent-hover)}
button:disabled{opacity:.5}

.status{margin-top:6px;color:var(--muted);font-size:.9rem}

/* Progress */
#progressWrap{display:none;margin-top:14px}
#progressOuter{height:6px;background:#222;border-radius:6px;overflow:hidden}
#progressBar{height:100%;width:0%;background:var(--accent)}
#progressText{font-size:.85rem;margin-top:6px;color:var(--muted)}

/* Bulk */
#bulkActions{display:none;margin:14px 0;gap:10px;flex-wrap:wrap}

/* Single */
.single-preview{
margin-top:18px;
padding:14px;
border:1px solid var(--border);
border-radius:12px;
background:var(--card);
}

/* Profile */
.profile-grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
gap:14px;
margin-top:22px;
}
.profile-item{
background:var(--card);
border:1px solid var(--border);
border-radius:14px;
padding:12px;
display:flex;
flex-direction:column;
gap:8px;
}
.profile-item .title{
font-size:.9rem;
color:var(--muted);
}

.ad-box{
margin:34px 0;
height:110px;
border-radius:14px;
border:1px dashed var(--border);
display:flex;
align-items:center;
justify-content:center;
color:var(--muted);
font-size:.9rem;
}
</style>
</head>

<body>

<main class="main-container">

<section class="hero">
<h1>TikTok Video Downloader</h1>
<p>
Preview and download publicly accessible TikTok videos from single links or public profiles.
Designed for educational and offline reference use only.
</p>
</section>

<section class="card">
<form id="tiktokForm">
<input id="videoUrl" type="text" placeholder="Paste TikTok video or profile link" required>
<button id="submitBtn" type="submit">Fetch Video Details</button>
</form>

<div id="status" class="status"></div>

<div id="progressWrap">
<div id="progressOuter"><div id="progressBar"></div></div>
<div id="progressText">0%</div>
</div>

<div id="bulkActions">
<button onclick="selectAll()">Select All</button>
<button onclick="deselectAll()">Deselect All</button>
<button onclick="downloadSelected()">Download Selected</button>
</div>

<div id="singlePreview"></div>
<div id="profileGrid" class="profile-grid"></div>
</section>

<section class="ad-box">Advertisement</section>

<section class="card">
<h2>About This Tool</h2>
<p>
This browser-based TikTok video downloader allows users to preview publicly shared TikTok videos
and obtain offline copies for personal research or educational study.
No login is required and no media is stored on servers.
Users are responsible for respecting platform policies and local regulations.
</p>
</section>

</main>

<script>
const API="https://tiktok-downloader-backend-production-ce2b.up.railway.app";

const form=document.getElementById("tiktokForm");
const input=document.getElementById("videoUrl");
const statusBox=document.getElementById("status");
const submitBtn=document.getElementById("submitBtn");
const singlePreview=document.getElementById("singlePreview");
const profileGrid=document.getElementById("profileGrid");
const bulkActions=document.getElementById("bulkActions");

let videos=[];
let selected=new Set();

function startProgress(){
const wrap=document.getElementById("progressWrap");
const bar=document.getElementById("progressBar");
const text=document.getElementById("progressText");
wrap.style.display="block";
let p=0;
return setInterval(()=>{
p+=Math.random()*8;
if(p>92)p=92;
bar.style.width=p+"%";
text.textContent=Math.floor(p)+"%";
},350);
}

form.addEventListener("submit",async e=>{
e.preventDefault();
submitBtn.disabled=true;

statusBox.textContent="Fetching details...";
singlePreview.innerHTML="";
profileGrid.innerHTML="";
bulkActions.style.display="none";
selected.clear();

const url=input.value.trim();
const isProfile=url.includes("/@") && !url.includes("/video/");
const timer=startProgress();

try{
if(isProfile){
const res=await fetch(`${API}/profile?profile_url=${encodeURIComponent(url)}`);
const data=await res.json();
clearInterval(timer);

if(!res.ok){statusBox.textContent=data.detail;return;}

videos=data.videos;
statusBox.textContent=`Found ${data.total} public videos`;
bulkActions.style.display="flex";
renderGrid();

}else{
const res=await fetch(`${API}/preview?url=${encodeURIComponent(url)}`);
const data=await res.json();
clearInterval(timer);

if(!res.ok){statusBox.textContent=data.detail;return;}

singlePreview.innerHTML=`
<div class="single-preview">
<strong>${data.title}</strong><br>
Uploader: ${data.uploader}<br>
Duration: ${data.duration || 'N/A'} sec<br><br>
<button onclick="download('${url}',1)">Download Video</button>
</div>`;
statusBox.textContent="Preview loaded";
}
}catch{
statusBox.textContent="Unable to process link.";
}finally{
submitBtn.disabled=false;
}
});

function renderGrid(){
profileGrid.innerHTML="";
videos.forEach(v=>{
const div=document.createElement("div");
div.className="profile-item";
div.innerHTML=`
<label>
<input type="checkbox" ${selected.has(v.index)?"checked":""}
 onchange="toggle(${v.index})">
 Select
</label>
<div class="title">${v.title}</div>
<button onclick="download('${v.url}',${v.index})">Download</button>`;
profileGrid.appendChild(div);
});
}

function toggle(i){
selected.has(i)?selected.delete(i):selected.add(i);
}

function selectAll(){videos.forEach(v=>selected.add(v.index));renderGrid();}
function deselectAll(){selected.clear();renderGrid();}

async function downloadSelected(){
for(const v of videos){
if(selected.has(v.index)){
download(v.url,v.index);
await new Promise(r=>setTimeout(r,2000));
}
}
}

function download(url,index){
window.location.href=
`${API}/download?url=${encodeURIComponent(url)}&index=${index}&profile=profile`;
}
</script>

</body>
</html>
